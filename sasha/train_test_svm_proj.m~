clear
load satimage_data.mat

%split up the data
rand_num = randperm(4420);
Xtrain = Xtr(rand_num(1:3094),:)'; 
ytrain = ytr(rand_num(1:3094))';
Xval = Xtr(rand_num(3095:end),:)';
yval = ytr(rand_num(3095:end))';


Delta = ones(6)-eye(6);
T = 50;
lambdas=10.^(-10:5);
error=zeros(1,numel(lambdas));
for i=1:numel(lambdas)
    error(i) = 0;
    W = train_svm_mhinge_sgdPARKER(Xtrain,ytrain,Delta,T,lambdas(i));
    for j=1:size(Xval,2)
    pred_val=Xval(:, j)'*W;
    [~,mx_idx]=max(pred_val);
    ypred(j)=mx_idx;
    end
    error(i) = mean(ypred == yval);
end
[~,idx]=min(error);

for i = 1:
pred_test = Xte(:,